<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ROCK-PAPER-SCISSORS</title>
    <link rel="stylesheet" href="../css/reset.css" />
    <link rel="stylesheet" href="../css/word.css" />
  </head>
  <body>
    <div class="wrap">
      <h1>
        <span class="main">Word Game</span>
      </h1>
      <div id="suggestWord"></div>
      <div id="inputBox">
        <input type="text" id="typing" />
      </div>
      <div>
        <h3 id="scoreBox">score : 0</h3>
      </div>
    </div>
  </body>
  <script>
    const words = `한밤중에 악몽의 틈에서 그대를 데려와서 고요하고 너르른 풀밭에 눕히고 재우리라 풀벌레 소리 시냇물이 흐르는 곳에 내일은 아직 오지 못하리 그대가 잠들기 전엔 연거푸 짚고 일어서려는 손 긁히며 달려 멍들고 지친 발 여기 넘어진 채로 우리 함께 엉겨 쉬면 어떠리 깊은 밤 깊은 잠 깊은 밤 젖은 이끼에 벌거벗은 등을 뉘여 보면 어떠리 숨 쉰다 마신다 뱉는다 부드러운 파도를 그대의 턱 끝까지 덮어주고 창밖에는 눈꽃과 안개가 밤새 춤추게 하리라 어린 날의 결핍 무엇으로 채우리야 어제는 다신 오지 못하리 그대 이제 안심하오 연거푸 흘러내리는 붉은 땀 흉진 곳에서 새 잎이 돋는다 여기 넘어진 채로 우리 함께 엉겨 쉬면 어떠리 깊은 밤 깊은 잠 깊은 밤 그래 언제고 일어서서 다시 가야 할 때 오겠지 하지만 지금은 아닐 뿐 나를 잠들게 해줘 눈꺼풀 위로 깊은 잠이 마치 범람하듯 넘친다 잊는다 잊힌다 잊는다 잠든다 꿈조차 없는 잠`;
    const wordList = words.split(" ");
    const targetTxt = document.querySelector("#suggestWord");
    const tryTxt = document.querySelector("#typing");
    const scoreBox = document.querySelector("#scoreBox");

    let showTarget = wordList[Math.floor(Math.random() * wordList.length)];
    targetTxt.textContent = showTarget;
    let count = 0;
    tryTxt.addEventListener("keyup", function (e) {
      if (e.key === "Enter") {
        console.log(showTarget, "===", tryTxt.value);
        if (showTarget === tryTxt.value) {
          count++;
          scoreBox.textContent = `score : ${count}`;
          tempNum = Math.floor(Math.random() * wordList.length);
          showTarget = wordList[tempNum];
          console.log(showTarget.length);
          if (showTarget.length <= 2) {
            showTarget = wordList[tempNum] + " " + wordList[tempNum + 1];
            tryTxt.value = "";
            targetTxt.textContent = showTarget;
            console.log(showTarget);
          } else {
            targetTxt.textContent = showTarget;
            console.log(showTarget);
            tryTxt.value = "";
          }
        }
      }
    });
  </script>
</html>
